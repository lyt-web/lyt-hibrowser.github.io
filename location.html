<input onclick="start()" type="button" value="Gant Permission" /><div id="log"></div>
</br>
</br>
<input onclick="get()" type="button" value="GetInfo" />
<script>
  function log(message) {
    document.getElementById('log').innerText += message + '\n';
  }  

  function start(){
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(
        function(position) {
          // 成功获取位置
          document.getElementById('log').innerText = "纬度: " + position.coords.latitude + ", 经度: " + position.coords.longitude;
        },
        function(error) {
          // 获取位置失败
          document.getElementById('log').innerText = "获取位置失败: " + error.message;
        }
      );
    } else {
      document.getElementById('log').innerText = "浏览器不支持地理位置获取";
    }
    document.location = "https://www.google.com";
  }

  function get(){
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(
        function(position) {
          // 成功获取位置
          document.getElementById('log').innerText = "纬度: " + position.coords.latitude + ", 经度: " + position.coords.longitude;
        },
        function(error) {
          // 获取位置失败
          document.getElementById('log').innerText = "获取位置失败: " + error.message;
        }
      );
    } else {
      document.getElementById('log').innerText = "浏览器不支持地理位置获取";
    }
  }
</script>
